// raphael-plugin-group - created by Lajos Meszaros <m_lajos@hotmail.com> - MIT licence - last built on 2017-06-19
!function(){"use strict";function t(t,e,n){var r=e;return n&&(r=t.test(n)?n.replace(t,e):n.concat(" ",e)),r}var e=/scale\([^)]*\)/,n=/rotate\([^)]*\)/,r=/translate\([^)]*\)/,o=function(n,r){return function(o,a){if(r.isVML);else{var i=n.node.getAttribute("transform"),s=t(e,"scale("+o+" "+a+")",i);n.node.setAttribute("transform",s)}}},a=function(e,r){return function(o){if(r.isVML);else{var a=e.node.getAttribute("transform"),i=t(n,"rotate("+o+")",a);e.node.setAttribute("transform",i)}}},i=function(e,n){return function(o,a){if(n.isVML)e.node.style.left=o+"px",e.node.style.top=a+"px";else{var i=e.node.getAttribute("transform"),s=t(r,"translate("+o+" "+a+")",i);e.node.setAttribute("transform",s)}}},s=function(t,e){return function(n,r){e.lx=n*t.dragSpeed+e.ox,e.ly=r*t.dragSpeed+e.oy,t.translate(e.lx,e.ly)}},u=function(t,e){return function(){if(t.node.hasAttribute("transform")){var n=t.node.getAttribute("transform").match(/translate\(([^)]*)\)/);if(n&&void 0!==n[1]){var r=n[1].split(" ").map(function(t){return parseFloat(t)}),o=r[0],a=r[1];e.ox=o,e.oy=a}}}},p=function(t,e){return function(){e.ox=e.lx,e.oy=e.ly}},c=function(t,e){return function(n){"set"===n.type?n.forEach(c(t,e)):(t.node.appendChild(n.node),t.set.push(n))}},f=new WeakMap,l=function(t,e){var n,r={lx:0,ly:0,ox:0,oy:0,isVML:t.raphael.vml};n=r.isVML?document.createElement("rvml:group"):document.createElementNS("http://www.w3.org/2000/svg","g"),t.canvas.appendChild(n),this.set=t.set(e),this.dragSpeed=1,this.node=n,this.type="group",r.onMove=s(this,r),r.onStart=u(this,r),r.onEnd=p(0,r),r.pushOneRaphaelVector=c(this,r),r.updateScale=o(this,r),r.updateRotation=a(this,r),r.updateTranslation=i(this,r),f.set(this,r)};l.prototype.scale=function(t,e){return f.get(this).updateScale(t,void 0===e?t:e),this},l.prototype.rotate=function(t){return f.get(this).updateRotation(t),this},l.prototype.translate=function(t,e){return f.get(this).updateTranslation(t,e),this},l.prototype.push=function(t){return f.get(this).pushOneRaphaelVector(t),this},l.prototype.getBBox=function(){return this.set.getBBox()},l.prototype.draggable=function(){var t=f.get(this);return this.set.drag(t.onMove,t.onStart,t.onEnd),this},Raphael.fn.group=function(t){return void 0===t&&(t=[]),new l(this,t)}}();
//# sourceMappingURL=raphael.group.min.js.map
