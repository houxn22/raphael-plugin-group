// raphael-plugin-group - created by Lajos Meszaros <m_lajos@hotmail.com> - MIT licence - last built on 2017-08-04
var RaphaelGroup=function(t){"use strict";function e(t,e,n){var r=e;return n&&(r=t.test(n)?n.replace(t,e):n.concat(" ",e)),r}var n=/scale\([^)]*\)/,r=/rotate\([^)]*\)/,o=/translate\([^)]*\)/,a=function(t,r){return function(o,a){if(r.isVML);else{var i=t.node.getAttribute("transform"),s=e(n,"scale("+o+" "+a+")",i);t.node.setAttribute("transform",s)}}},i=function(t,n){return function(o){if(n.isVML);else{var a=t.node.getAttribute("transform"),i=e(r,"rotate("+o+")",a);t.node.setAttribute("transform",i)}}},s=function(t,n){return function(r,a){if(n.isVML)t.node.style.left=r+"px",t.node.style.top=a+"px";else{var i=t.node.getAttribute("transform"),s=e(o,"translate("+r+" "+a+")",i);t.node.setAttribute("transform",s)}}},u=function(t,e){return function(n,r){e.lx=n*t.dragSpeed+e.ox,e.ly=r*t.dragSpeed+e.oy,t.translate(e.lx,e.ly)}},p=function(t,e){return function(){if(t.node.hasAttribute("transform")){var n=t.node.getAttribute("transform").match(/translate\(([^)]*)\)/);if(n&&void 0!==n[1]){var r=n[1].split(" ").map(function(t){return parseFloat(t)}),o=r[0],a=r[1];e.ox=o,e.oy=a}}}},c=function(t,e){return function(){e.ox=e.lx,e.oy=e.ly}},f=function(t,e){return function(n){"set"===n.type?n.forEach(f(t,e)):(t.node.appendChild(n.node),t.set.push(n))}},l=new WeakMap,h=function(t,e){var n,r={lx:0,ly:0,ox:0,oy:0,isVML:t.raphael.vml};n=r.isVML?document.createElement("rvml:group"):document.createElementNS("http://www.w3.org/2000/svg","g"),t.canvas.appendChild(n),this.set=t.set(e),this.dragSpeed=1,this.node=n,this.type="group",r.onMove=u(this,r),r.onStart=p(this,r),r.onEnd=c(0,r),r.pushOneRaphaelVector=f(this,r),r.updateScale=a(this,r),r.updateRotation=i(this,r),r.updateTranslation=s(this,r),l.set(this,r)};return h.prototype.scale=function(t,e){return l.get(this).updateScale(t,void 0===e?t:e),this},h.prototype.rotate=function(t){return l.get(this).updateRotation(t),this},h.prototype.translate=function(t,e){return l.get(this).updateTranslation(t,e),this},h.prototype.push=function(t){return l.get(this).pushOneRaphaelVector(t),this},h.prototype.getBBox=function(){return this.set.getBBox()},h.prototype.draggable=function(){var t=l.get(this);return this.set.drag(t.onMove,t.onStart,t.onEnd),this},Raphael.fn.group=function(t){return void 0===t&&(t=[]),new h(this,t)},t}({});
//# sourceMappingURL=raphael.group.min.js.map
